{"version":3,"sources":["assets/arrow-left.svg","assets/arrow-right.svg","components/Carousel/index.js","components/Carousel/carouselShader.js","utils/three.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js"],"names":["_path","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowLeft","_ref","svgRef","title","titleId","props","fill","width","height","viewBox","ref","id","d","ForwardRef","SvgArrowRight","determineIndex","imageIndex","index","images","direction","Carousel","placeholder","rest","useState","dragging","setDragging","setImageIndex","loaded","setLoaded","showPlaceholder","setShowPlaceholder","textures","setTextures","canvasRect","setCanvasRect","canvas","useRef","imagePlane","geometry","material","scene","camera","renderer","animating","swipeDirection","lastSwipePosition","scheduledAnimationFrame","prefersReducedMotion","usePrefersReducedMotion","inViewport","useInViewport","placeholderRef","springTween","swipeElement","currentImageAlt","alt","useEffect","document","body","style","cursor","cameraOptions","current","WebGLRenderer","antialias","powerPreference","OrthographicCamera","Scene","setPixelRatio","setClearColor","setSize","domElement","background","Color","position","z","cleanScene","cleanRenderer","mounted","a","textureLoader","TextureLoader","anisotropy","capabilities","getMaxAnisotropy","texturePromises","map","image","getImageFromSrcSet","imageSrc","loadAsync","imageTexture","initTexture","encoding","sRGBEncoding","minFilter","LinearFilter","magFilter","generateMipmaps","Promise","all","ShaderMaterial","uniforms","dispFactor","type","value","currentImage","nextImage","vertexShader","fragmentShader","transparent","opacity","PlaneBufferGeometry","Mesh","set","add","requestAnimationFrame","render","loadImages","goToIndex","useCallback","onComplete","springValue","spring","from","get","to","velocity","getVelocity","stiffness","damping","start","navigate","cancelAnimationFrame","finalIndex","onNavClick","handleResize","rect","getBoundingClientRect","window","addEventListener","removeEventListener","animation","animate","stop","purgePlaceholder","placeholderElement","onSwipeMove","x","absoluteX","Math","abs","containerWidth","swipePercentage","nextIndex","displacementClamp","min","max","onSwipeEnd","duration","minSwipeDistance","pointerTracker","swipeXY","y","swipeStart","listen","event","preventDefault","pointer","swipeEnd","className","onKeyDown","selectedAction","ArrowRight","ArrowLeft","classNames","aria-atomic","aria-live","aria-label","role","aria-hidden","prerender","src","onClick","onMouseUp","blurOnMouseUp","aria-pressed","traverse","object","isMesh","dispose","isMaterial","cleanMaterial","forceContextLoss","removeLights","lights","light","parent","remove","_construct","Parent","args","Class","Reflect","construct","push","instance","Function","bind"],"mappings":"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","file":"static/js/14.9b4ce1bd.chunk.js","sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowLeft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    width: 18,\n    height: 42,\n    viewBox: \"0 0 18 42\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.03 1.375L16.47.125-.031 20.75l16.5 20.625 1.562-1.25L2.53 20.75z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeft);\nexport default __webpack_public_path__ + \"static/media/arrow-left.4ab94177.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowRight(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    width: 18,\n    height: 42,\n    viewBox: \"0 0 18 42\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-.03 1.375L1.53.125l16.5 20.625-16.5 20.625-1.562-1.25 15.5-19.375z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowRight);\nexport default __webpack_public_path__ + \"static/media/arrow-right.4d170454.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useEffect, useRef, useCallback } from 'react';\nimport {\n  WebGLRenderer,\n  LinearFilter,\n  OrthographicCamera,\n  Scene,\n  PlaneBufferGeometry,\n  TextureLoader,\n  ShaderMaterial,\n  Mesh,\n  Color,\n  sRGBEncoding,\n} from 'three';\nimport { spring, value, listen, pointer } from 'popmotion';\nimport classNames from 'classnames';\nimport { usePrefersReducedMotion, useInViewport } from 'hooks';\nimport prerender from 'utils/prerender';\nimport { blurOnMouseUp } from 'utils/focus';\nimport { ReactComponent as ArrowLeft } from 'assets/arrow-left.svg';\nimport { ReactComponent as ArrowRight } from 'assets/arrow-right.svg';\nimport { vertex, fragment } from './carouselShader';\nimport { cleanScene, cleanRenderer } from 'utils/three';\nimport { getImageFromSrcSet } from 'utils/image';\nimport './index.css';\n\nfunction determineIndex(imageIndex, index, images, direction) {\n  if (index !== null) return index;\n  const length = images.length;\n  const prevIndex = (imageIndex - 1 + length) % length;\n  const nextIndex = (imageIndex + 1) % length;\n  const finalIndex = direction > 0 ? nextIndex : prevIndex;\n  return finalIndex;\n}\n\nconst Carousel = ({ width, height, images, placeholder, ...rest }) => {\n  const [dragging, setDragging] = useState(false);\n  const [imageIndex, setImageIndex] = useState(0);\n  const [loaded, setLoaded] = useState(false);\n  const [showPlaceholder, setShowPlaceholder] = useState(true);\n  const [textures, setTextures] = useState();\n  const [canvasRect, setCanvasRect] = useState();\n  const canvas = useRef();\n  const imagePlane = useRef();\n  const geometry = useRef();\n  const material = useRef();\n  const scene = useRef();\n  const camera = useRef();\n  const renderer = useRef();\n  const animating = useRef(false);\n  const swipeDirection = useRef();\n  const lastSwipePosition = useRef();\n  const scheduledAnimationFrame = useRef();\n  const prefersReducedMotion = usePrefersReducedMotion();\n  const inViewport = useInViewport(canvas, true);\n  const placeholderRef = useRef();\n  const springTween = useRef();\n  const swipeElement = useRef();\n\n  const currentImageAlt = `Slide ${imageIndex + 1} of ${images.length}. ${\n    images[imageIndex].alt\n  }`;\n\n  useEffect(() => {\n    if (dragging) {\n      document.body.style.cursor = 'grabbing';\n    }\n\n    return () => {\n      document.body.style.cursor = '';\n    };\n  }, [dragging]);\n\n  useEffect(() => {\n    const cameraOptions = [width / -2, width / 2, height / 2, height / -2, 1, 1000];\n    renderer.current = new WebGLRenderer({\n      canvas: canvas.current,\n      antialias: false,\n      powerPreference: 'high-performance',\n    });\n    camera.current = new OrthographicCamera(...cameraOptions);\n    scene.current = new Scene();\n    renderer.current.setPixelRatio(2);\n    renderer.current.setClearColor(0x111111, 1.0);\n    renderer.current.setSize(width, height);\n    renderer.current.domElement.style.width = '100%';\n    renderer.current.domElement.style.height = 'auto';\n    scene.current.background = new Color(0x111111);\n    camera.current.position.z = 1;\n\n    return () => {\n      animating.current = false;\n      cleanScene(scene.current);\n      cleanRenderer(renderer.current);\n    };\n  }, [height, width]);\n\n  useEffect(() => {\n    let mounted = true;\n\n    const loadImages = async () => {\n      const textureLoader = new TextureLoader();\n      const anisotropy = renderer.current.capabilities.getMaxAnisotropy();\n\n      const texturePromises = images.map(async image => {\n        const imageSrc = await getImageFromSrcSet(image);\n        const imageTexture = await textureLoader.loadAsync(imageSrc);\n        await renderer.current.initTexture(imageTexture);\n        imageTexture.encoding = sRGBEncoding;\n        imageTexture.minFilter = LinearFilter;\n        imageTexture.magFilter = LinearFilter;\n        imageTexture.anisotropy = anisotropy;\n        imageTexture.generateMipmaps = false;\n        return imageTexture;\n      });\n\n      const textures = await Promise.all(texturePromises);\n\n      // Cancel if the component has unmounted during async code\n      if (!mounted) return;\n\n      material.current = new ShaderMaterial({\n        uniforms: {\n          dispFactor: { type: 'f', value: 0 },\n          direction: { type: 'f', value: 1 },\n          currentImage: { type: 't', value: textures[0] },\n          nextImage: { type: 't', value: textures[1] },\n        },\n        vertexShader: vertex,\n        fragmentShader: fragment,\n        transparent: false,\n        opacity: 1,\n      });\n\n      geometry.current = new PlaneBufferGeometry(width, height, 1);\n      imagePlane.current = new Mesh(geometry.current, material.current);\n      imagePlane.current.position.set(0, 0, 0);\n      scene.current.add(imagePlane.current);\n\n      setLoaded(true);\n      setTextures(textures);\n\n      requestAnimationFrame(() => {\n        renderer.current.render(scene.current, camera.current);\n      });\n    };\n\n    if (inViewport && !loaded) {\n      loadImages();\n    }\n\n    return () => {\n      mounted = false;\n    };\n  }, [height, images, inViewport, loaded, width]);\n\n  const goToIndex = useCallback(\n    ({ index, direction = 1 }) => {\n      if (!textures) return;\n      setImageIndex(index);\n      const uniforms = material.current.uniforms;\n      uniforms.nextImage.value = textures[index];\n      uniforms.direction.value = direction;\n\n      const onComplete = () => {\n        uniforms.currentImage.value = textures[index];\n        uniforms.dispFactor.value = 0;\n        animating.current = false;\n      };\n\n      if (!prefersReducedMotion && uniforms.dispFactor.value !== 1) {\n        animating.current = true;\n\n        const springValue = value(uniforms.dispFactor.value, value => {\n          uniforms.dispFactor.value = value;\n          if (value === 1) onComplete();\n        });\n\n        springTween.current = spring({\n          from: springValue.get(),\n          to: 1,\n          velocity: springValue.getVelocity(),\n          stiffness: 100,\n          damping: 20,\n        }).start(springValue);\n      } else {\n        onComplete();\n        requestAnimationFrame(() => {\n          renderer.current.render(scene.current, camera.current);\n        });\n      }\n    },\n    [prefersReducedMotion, textures]\n  );\n\n  const navigate = useCallback(\n    ({ direction, index = null, ...rest }) => {\n      if (!loaded) return;\n\n      if (animating.current) {\n        cancelAnimationFrame(scheduledAnimationFrame.current);\n        scheduledAnimationFrame.current = requestAnimationFrame(() =>\n          navigate({ direction, index, ...rest })\n        );\n        return;\n      }\n\n      const finalIndex = determineIndex(imageIndex, index, textures, direction);\n      goToIndex({ index: finalIndex, direction: direction, ...rest });\n    },\n    [goToIndex, imageIndex, loaded, textures]\n  );\n\n  const onNavClick = useCallback(\n    index => {\n      if (index === imageIndex) return;\n      const direction = index > imageIndex ? 1 : -1;\n      navigate({ direction, index });\n    },\n    [imageIndex, navigate]\n  );\n\n  useEffect(() => {\n    const handleResize = () => {\n      const rect = canvas.current.getBoundingClientRect();\n      setCanvasRect(rect);\n    };\n\n    window.addEventListener('resize', handleResize);\n    handleResize();\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  useEffect(() => {\n    let animation;\n\n    const animate = () => {\n      animation = requestAnimationFrame(animate);\n      if (animating.current) {\n        renderer.current.render(scene.current, camera.current);\n      }\n    };\n\n    animation = requestAnimationFrame(animate);\n\n    return () => {\n      cancelAnimationFrame(animation);\n      springTween.current?.stop();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (placeholder) {\n      const purgePlaceholder = () => {\n        setShowPlaceholder(false);\n      };\n\n      const placeholderElement = placeholderRef.current;\n      placeholderElement.addEventListener('transitionend', purgePlaceholder);\n\n      return () => {\n        if (placeholderElement) {\n          placeholderElement.removeEventListener('transitionend', purgePlaceholder);\n        }\n      };\n    }\n  }, [placeholder]);\n\n  const onSwipeMove = useCallback(\n    position => {\n      if (animating.current || !material.current || !textures) return;\n      const { x } = position;\n      lastSwipePosition.current = x;\n      const absoluteX = Math.abs(x);\n      const containerWidth = canvasRect.width;\n      swipeDirection.current = x > 0 ? -1 : 1;\n      const swipePercentage = 1 - ((absoluteX - containerWidth) / containerWidth) * -1;\n      const nextIndex = determineIndex(imageIndex, null, images, swipeDirection.current);\n      const uniforms = material.current.uniforms;\n      const displacementClamp = Math.min(Math.max(swipePercentage, 0), 1);\n\n      uniforms.currentImage.value = textures[imageIndex];\n      uniforms.nextImage.value = textures[nextIndex];\n      uniforms.direction.value = swipeDirection.current;\n\n      if (!prefersReducedMotion) {\n        uniforms.dispFactor.value = displacementClamp;\n      }\n\n      requestAnimationFrame(() => {\n        renderer.current.render(scene.current, camera.current);\n      });\n    },\n    [canvasRect, imageIndex, images, prefersReducedMotion, textures]\n  );\n\n  const onSwipeEnd = useCallback(() => {\n    if (!material.current) return;\n    const uniforms = material.current.uniforms;\n    const duration = (1 - uniforms.dispFactor.value) * 1000;\n    const position = Math.abs(lastSwipePosition.current);\n    const minSwipeDistance = canvasRect.width * 0.2;\n    lastSwipePosition.current = 0;\n\n    if (animating.current) return;\n    if (position === 0 || !position) return;\n\n    if (position > minSwipeDistance) {\n      navigate({\n        duration,\n        direction: swipeDirection.current,\n      });\n    } else {\n      uniforms.currentImage.value = uniforms.nextImage.value;\n      uniforms.nextImage.value = uniforms.currentImage.value;\n      uniforms.dispFactor.value = 1 - uniforms.dispFactor.value;\n\n      navigate({\n        direction: swipeDirection.current * -1,\n        index: imageIndex,\n      });\n    }\n  }, [canvasRect, imageIndex, navigate]);\n\n  useEffect(() => {\n    let pointerTracker;\n\n    const swipeXY = value({ x: 0, y: 0 }, position => {\n      onSwipeMove(position);\n    });\n\n    const swipeStart = listen(swipeElement.current, 'mousedown touchstart').start(\n      event => {\n        setDragging(true);\n        event.preventDefault();\n        pointerTracker = pointer({ x: 0, y: 0 }).start(swipeXY);\n      }\n    );\n\n    const swipeEnd = listen(document, 'mouseup touchend').start(() => {\n      setDragging(false);\n      onSwipeEnd();\n      pointerTracker?.stop();\n    });\n\n    return () => {\n      swipeStart.stop();\n      swipeEnd.stop();\n      pointerTracker?.stop();\n    };\n  }, [onSwipeEnd, onSwipeMove]);\n\n  const handleKeyDown = event => {\n    const actions = {\n      ArrowRight: () => navigate({ direction: 1 }),\n      ArrowLeft: () => navigate({ direction: -1 }),\n    };\n\n    const selectedAction = actions[event.key];\n\n    if (!!selectedAction) {\n      selectedAction();\n    }\n  };\n\n  return (\n    <div className=\"carousel\" onKeyDown={handleKeyDown} {...rest}>\n      <div className=\"carousel__content\">\n        <div\n          className={classNames('carousel__image-wrapper', {\n            'carousel__image-wrapper--dragging': dragging,\n          })}\n          ref={swipeElement}\n        >\n          <div\n            aria-atomic\n            className=\"carousel__canvas-wrapper\"\n            aria-live=\"polite\"\n            aria-label={currentImageAlt}\n            role=\"img\"\n          >\n            <canvas aria-hidden className=\"carousel__canvas\" ref={canvas} />\n          </div>\n          {showPlaceholder && placeholder && (\n            <img\n              aria-hidden\n              className={classNames('carousel__placeholder', {\n                'carousel__placeholder--loaded': !prerender && loaded && textures,\n              })}\n              src={placeholder}\n              ref={placeholderRef}\n              alt=\"\"\n              role=\"presentation\"\n            />\n          )}\n        </div>\n        <button\n          className=\"carousel__button carousel__button--prev\"\n          aria-label=\"Previous slide\"\n          onClick={() => navigate({ direction: -1 })}\n          onMouseUp={blurOnMouseUp}\n        >\n          <ArrowLeft />\n        </button>\n        <button\n          className=\"carousel__button carousel__button--next\"\n          aria-label=\"Next slide\"\n          onClick={() => navigate({ direction: 1 })}\n          onMouseUp={blurOnMouseUp}\n        >\n          <ArrowRight />\n        </button>\n      </div>\n      <div className=\"carousel__nav\">\n        {images.map((image, index) => (\n          <button\n            className=\"carousel__nav-button\"\n            key={image.alt}\n            onClick={() => onNavClick(index)}\n            onMouseUp={blurOnMouseUp}\n            aria-label={`Jump to slide ${index + 1}`}\n            aria-pressed={index === imageIndex}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Carousel;\n","export const vertex = `\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  }\n`;\n\nexport const fragment = `\n  varying vec2 vUv;\n  uniform sampler2D currentImage;\n  uniform sampler2D nextImage;\n  uniform float dispFactor;\n  uniform float direction;\n\n  void main() {\n    vec2 uv = vUv;\n    vec4 _currentImage;\n    vec4 _nextImage;\n    float intensity = 0.6;\n\n    vec4 orig1 = texture2D(currentImage, uv);\n    vec4 orig2 = texture2D(nextImage, uv);\n\n    vec2 distortedPosition = vec2(\n      uv.x + direction * (dispFactor * (orig2.r * intensity)),\n      uv.y + direction * (dispFactor * (orig2 * intensity))\n    );\n\n    vec2 distortedPosition2 = vec2(\n      uv.x - direction * ((1.0 - dispFactor) * (orig1.r * intensity)),\n      uv.y - direction * ((1.0 - dispFactor) * (orig1 * intensity))\n    );\n\n    _currentImage = texture2D(currentImage, distortedPosition);\n    _nextImage = texture2D(nextImage, distortedPosition2);\n\n    vec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);\n    gl_FragColor = finalTexture;\n  }\n`;\n","/**\n * Clean up a scene's materials and geometry\n */\nexport const cleanScene = scene => {\n  scene.traverse(object => {\n    if (!object.isMesh) return;\n\n    object.geometry.dispose();\n\n    if (object.material.isMaterial) {\n      cleanMaterial(object.material);\n    } else {\n      for (const material of object.material) {\n        cleanMaterial(material);\n      }\n    }\n  });\n};\n\n/**\n * Clean up and dispose of a material\n */\nexport const cleanMaterial = material => {\n  material.dispose();\n\n  for (const key of Object.keys(material)) {\n    const value = material[key];\n    if (value && typeof value === 'object' && 'minFilter' in value) {\n      value.dispose();\n    }\n  }\n};\n\n/**\n * Clean up and dispose of a renderer\n */\nexport const cleanRenderer = renderer => {\n  renderer.dispose();\n  renderer.forceContextLoss();\n  renderer = null;\n};\n\n/**\n * Clean up lights by removing them from their parent\n */\nexport const removeLights = lights => {\n  for (const light of lights) {\n    light.parent.remove(light);\n  }\n};\n","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}"],"sourceRoot":""}